{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function searchImage(query) {\n  const URL = 'https://pixabay.com/api/';\n\n  const searchParams = new URLSearchParams({\n    key: '45151719-ad1ed1cd151d376d4bdd12a44',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n\nexport default searchImage;\n","function renderCards({ hits }) {\n  const gallery = document.querySelector('.gallery');\n\n  const markup = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n\t    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img \n\t\tclass=\"gallery-image\" \n\t\tsrc=\"${webformatURL}\" \n\t\talt=\"${tags}\"\n\t\t/>\n\t    </a>\n        <ul class=\"gallery-inner-list\">\n        <li class=\"gallery-inner-item\">\n        <p class=\"gallery-inner-name\">Likes</p>\n        <p class=\"gallery-inner-value\">${likes}</p>\n        </li>\n        <li class=\"gallery-inner-item\">\n        <p class=\"gallery-inner-name\">Views</p>\n        <p class=\"gallery-inner-value\">${views}</p>\n        </li>\n        <li class=\"gallery-inner-item\">\n        <p class=\"gallery-inner-name\">Comments</p>\n        <p class=\"gallery-inner-value\">${comments}</p>\n        </li>\n        <li class=\"gallery-inner-item\">\n        <p class=\"gallery-inner-name\">Downloads</p>\n        <p class=\"gallery-inner-value\">${downloads}</p>\n        </li>\n        </ul>\n   </li>`;\n      }\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n}\n\nexport default renderCards;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport searchImage from './js/pixabay-api.js';\nimport renderCards from './js/render-functions.js';\n\nconst formEl = document.querySelector('.form');\nconst galleryEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nformEl.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const inputValue = form.elements.query.value.trim();\n\n  if (inputValue === '') {\n    galleryEl.innerHTML = '';\n    return;\n  }\n\n  loader.style.display = 'block';\n\n  searchImage(inputValue)\n    .then(data => {\n      if (!data.hits.length) {\n        galleryEl.innerHTML = '';\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          class: `izi-toast`,\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          messageColor: 'white',\n          messageSize: '16',\n          theme: 'dark',\n        });\n      } else {\n        renderCards(data);\n        gallery.refresh();\n      }\n    })\n    .catch(console.log)\n    .finally(() => {\n      loader.style.display = 'none';\n      form.reset();\n    });\n}\n\nlet gallery = new SimpleLightbox('.gallery .gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["searchImage","query","URL","searchParams","response","renderCards","hits","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","galleryEl","loader","handleSearch","event","form","inputValue","data","iziToast","SimpleLightbox"],"mappings":"6vBAAA,SAASA,EAAYC,EAAO,CAC1B,MAAMC,EAAM,2BAENC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACtD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,SAASC,EAAY,CAAE,KAAAC,GAAQ,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,qCACsBL,CAAa;AAAA;AAAA;AAAA,SAGzCD,CAAY;AAAA,SACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAM4BC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,SAK7C,EACA,KAAK,EAAE,EAEVR,EAAQ,UAAYC,CACtB,CCvCA,MAAMQ,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBF,EAAO,iBAAiB,SAAUG,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAAM,OAE7C,GAAIC,IAAe,GAAI,CACrBL,EAAU,UAAY,GACtB,MACD,CAEDC,EAAO,MAAM,QAAU,QAEvBlB,EAAYsB,CAAU,EACnB,KAAKC,GAAQ,CACPA,EAAK,KAAK,QAablB,EAAYkB,CAAI,EAChBhB,EAAQ,QAAO,IAbfU,EAAU,UAAY,GACtBO,EAAS,MAAM,CACb,QACE,2EACF,MAAO,YACP,SAAU,WACV,gBAAiB,UACjB,aAAc,QACd,YAAa,KACb,MAAO,MACjB,CAAS,EAKT,CAAK,EACA,MAAM,QAAQ,GAAG,EACjB,QAAQ,IAAM,CACbN,EAAO,MAAM,QAAU,OACvBG,EAAK,MAAK,CAChB,CAAK,CACL,CAEA,IAAId,EAAU,IAAIkB,EAAe,yBAA0B,CACzD,aAAc,MACd,aAAc,GAChB,CAAC"}